<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Income Tax Calculator - Old vs New Regime</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-blue-600 text-white py-4 shadow">
    <h1 class="text-center text-2xl font-bold">Income Tax Calculator (India)</h1>
    <p class="text-center text-sm">Compare Old vs New Regime</p>
  </header>

  <!-- Calculator Form -->
  <main class="flex-1 container mx-auto p-4">
    <form id="taxForm" class="bg-white shadow-md rounded-xl p-6 space-y-4 max-w-lg mx-auto">

      <!-- Income -->
      <div>
        <label class="block font-semibold mb-1">Annual Income (₹)</label>
        <input id="income" type="number" min="0" placeholder="e.g. 1200000"
          class="w-full p-3 border border-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500"/>
      </div>

      <!-- HRA -->
      <div>
        <label class="block font-semibold mb-1">HRA Exemption (₹)</label>
        <input id="hra" type="number" min="0" placeholder="e.g. 100000"
          class="w-full p-3 border border-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500"/>
      </div>

      <!-- 80C -->
      <div>
        <label class="block font-semibold mb-1">Deductions u/s 80C (₹)</label>
        <input id="ded80C" type="number" min="0" placeholder="e.g. 150000"
          class="w-full p-3 border border-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500"/>
      </div>

      <!-- 80D -->
      <div>
        <label class="block font-semibold mb-1">Deductions u/s 80D (₹)</label>
        <input id="ded80D" type="number" min="0" placeholder="e.g. 25000"
          class="w-full p-3 border border-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500"/>
      </div>

      <!-- 24B -->
      <div>
        <label class="block font-semibold mb-1">Home Loan Interest u/s 24B (₹)</label>
        <input id="ded24B" type="number" min="0" placeholder="e.g. 200000"
          class="w-full p-3 border border-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500"/>
      </div>

      <!-- Age -->
      <div>
        <label class="block font-semibold mb-1">Age Group</label>
        <select id="age" class="w-full p-3 border border-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500">
          <option value="below60">Below 60</option>
          <option value="60to80">60 - 80</option>
          <option value="above80">Above 80</option>
        </select>
      </div>

      <!-- Submit -->
      <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700">
        Calculate Tax
      </button>
    </form>

    <!-- Results -->
    <div id="result" class="hidden bg-gray-50 shadow-md rounded-xl p-6 mt-6 max-w-lg mx-auto"></div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-4 text-center">
    <p class="text-sm">© 2025 Income Tax Calculator | For educational use only</p>
  </footer>

  <script>
    // Function: Old Regime Tax calculation
    function calculateOldRegimeTax(income, age) {
      let tax = 0;

      if (age === "above80") {
        // Super senior citizens - No tax up to 5L
        if (income <= 500000) return 0;
        if (income <= 1000000) return (income - 500000) * 0.20;
        return 100000 + (income - 1000000) * 0.30;

      } else if (age === "60to80") {
        // Senior citizens - No tax up to 3L
        if (income <= 300000) return 0;
        if (income <= 500000) return (income - 300000) * 0.05;
        if (income <= 1000000) return 10000 + (income - 500000) * 0.20;
        return 110000 + (income - 1000000) * 0.30;

      } else {
        // Below 60
        if (income <= 250000) return 0;
        if (income <= 500000) return (income - 250000) * 0.05;
        if (income <= 1000000) return 12500 + (income - 500000) * 0.20;
        return 112500 + (income - 1000000) * 0.30;
      }
    }

    // Function: New Regime Tax calculation (FY 2025-26)
    function calculateNewRegimeTax(income) {
      let tax = 0;
      if (income <= 300000) return 0;
      if (income <= 700000) return (income - 300000) * 0.05;
      if (income <= 1000000) return 20000 + (income - 700000) * 0.10;
      if (income <= 1200000) return 50000 + (income - 1000000) * 0.15;
      if (income <= 1500000) return 80000 + (income - 1200000) * 0.20;
      return 140000 + (income - 1500000) * 0.30;
    }

    // Handle Form Submission
    document.getElementById("taxForm").addEventListener("submit", function (e) {
      e.preventDefault();

      // Input values
      const income = parseFloat(document.getElementById("income").value) || 0;
      const hra = parseFloat(document.getElementById("hra").value) || 0;
      const ded80C = parseFloat(document.getElementById("ded80C").value) || 0;
      const ded80D = parseFloat(document.getElementById("ded80D").value) || 0;
      const ded24B = parseFloat(document.getElementById("ded24B").value) || 0;
      const age = document.getElementById("age").value;

      const stdDeduction = 50000; // Standard deduction

      // OLD regime → all deductions allowed
      const totalDeductionsOld = hra + ded80C + ded80D + ded24B + stdDeduction;
      const taxableOld = Math.max(income - totalDeductionsOld, 0);
      const taxOld = calculateOldRegimeTax(taxableOld, age);

      // NEW regime → only std deduction allowed
      const taxableNew = Math.max(income - stdDeduction, 0);
      const taxNew = calculateNewRegimeTax(taxableNew);

      // Show Results
      document.getElementById("result").classList.remove("hidden");
      document.getElementById("result").innerHTML = `
        <h2 class="text-xl font-semibold mb-3">Calculation Results</h2>
        <p><strong>Gross Income:</strong> ₹${income.toLocaleString()}</p>
        <p><strong>HRA Exemption (Old Regime):</strong> ₹${hra.toLocaleString()}</p>
        <p><strong>Total Deductions (Old Regime):</strong> ₹${totalDeductionsOld.toLocaleString()}</p>
        <p><strong>Old Regime Taxable Income:</strong> ₹${taxableOld.toLocaleString()}</p>
        <p class="mb-3"><strong>Old Regime Tax:</strong> ₹${taxOld.toLocaleString()}</p>
        <hr class="my-2">
        <p><strong>Standard Deduction (New Regime):</strong> ₹${stdDeduction.toLocaleString()}</p>
        <p><strong>New Regime Taxable Income:</strong> ₹${taxableNew.toLocaleString()}</p>
        <p><strong>New Regime Tax:</strong> ₹${taxNew.toLocaleString()}</p>
      `;
    });
  </script>
</body>
</html>
